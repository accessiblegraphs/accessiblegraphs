(this.webpackJsonpcvtrack=this.webpackJsonpcvtrack||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},37:function(e,t,a){"use strict";a.r(t);a(24),a(25);var n=a(0),l=a.n(n),r=a(10),s=a.n(r),o=a(3),c=a(6),i=a(5),d=a(2),u=a(4),m=a(19),h=a.n(m);function p(e){return h()(e).fromNow()}function f(e){var t=e.cell.value;return t?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):t}function g(e){return l.a.createElement("h3",null,"Dataset last updated: ",p(e))}function b(e){var t=e.stats;return l.a.createElement("ul",null,Object.keys(t).map((function(e){var a=t[e];return l.a.createElement("li",null,e,": ",a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))})))}var v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://corona.lmao.ninja/v2/all").then((function(e){return e.json()})).then((function(t){e.setState(t)}))}},{key:"render",value:function(){var e=this.state,t=e.updated;return delete e.updated,l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{updated:t}),l.a.createElement(b,{stats:e}))}}]),t}(n.Component),E=a(9),y=a(14);function w(e){var t=e.columns,a=e.data,n=Object(y.useTable)({columns:t,data:a},y.useSortBy),r=n.getTableProps,s=n.getTableBodyProps,o=n.headerGroups,c=n.rows,i=n.prepareRow;return l.a.createElement("div",{class:"table-responsive-sm"},l.a.createElement("table",Object.assign({class:"table"},r()),l.a.createElement("caption",null,"To sort the table by the values in a column, click or press enter on the column header."),l.a.createElement("thead",null,o.map((function(e){return l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return l.a.createElement("th",Object.assign({scope:"col"},e.getHeaderProps(e.getSortByToggleProps()),{className:e.isSorted?e.isSortedDesc?"sort-desc":"sort-asc":"","aria-sort":e.isSorted?e.isSortedDesc?"descending":"ascending":""}),e.render("Header"))})))}))),l.a.createElement("tbody",s(),c.map((function(e,t){return i(e),l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return l.a.createElement("td",e.getCellProps({role:e.column.role}),e.render("Cell"))})))})))))}var C=a(7),j=a(21),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={expanded:!1},a.sectionName="unnamed",a.sectionTag="unnamed",a.handleClick=a.handleClick.bind(Object(C.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"RenderWidget",value:function(){}},{key:"handleClick",value:function(e){"true"===e.target.getAttribute("aria-expanded")?this.setState({expanded:!1}):this.setState({expanded:!0})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,l.a.createElement("button",{class:"btn btn-primary","data-toggle":"collapse",href:"#collapse{this.sectionTag}",id:this.sectionTag,"aria-expanded":this.state.expanded,"aria-controls":"collapse{this.sectionTag}",onClick:this.handleClick},this.sectionName)),l.a.createElement("section",null,l.a.createElement(j.a,{in:this.state.expanded},l.a.createElement("div",{class:"card card-body"},this.RenderWidget()))))}}]),t}(n.Component),k=function(){return fetch("https://corona.lmao.ninja/v2/countries").then((function(e){return e.ok?e:Promise.reject(e)})).then((function(e){return e.json()}))},S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).sectionName="Country Stats",a.sectionTag="CountryStats",a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"RenderTable",value:function(){var e=[{Header:"Country",accessor:"country",role:"rowheader"},{Header:"Cases",accessor:"cases",Cell:f,role:"cell"},{Header:"Cases Reported Today",accessor:"todayCases",Cell:f,role:"cell"},{Header:"Overall Deaths",accessor:"deaths",Cell:f,role:"cell"},{Header:"Deaths Today",accessor:"todayDeaths",Cell:f,role:"cell"},{Header:"Recovered",accessor:"recovered",Cell:f,role:"cell"},{Header:"Critical Cases",accessor:"critical",Cell:f,role:"cell"},{Header:"Active cases",accessor:"active",Cell:f,role:"cell"},{Header:"Cases Per One Million",accessor:"casesPerOneMillion",Cell:f,role:"cell"},{Header:"Deaths Per One Million",accessor:"deathsPerOneMillion",Cell:f,role:"cell"},{Header:"Tests Per One Million",accessor:"testsPerOneMillion",Cell:f,role:"cell"},{Header:"Stats Last Updated",accessor:"updated",Cell:p,role:"cell"}];return l.a.createElement(w,{columns:e,data:this.state.stats})}},{key:"RenderWidget",value:function(){var e=this;if(this.state.expanded)return null!=this.state.stats?this.RenderTable():l.a.createElement(E.a,{promiseFn:k},(function(t){var a=t.data,n=t.error;return t.isPending?"Loading...":n?"Something went wrong: ".concat(n.message):(e.state={expanded:e.state.expanded,stats:a},e.RenderTable())}))}}]),t}(O),T=function(){return fetch("https://corona.lmao.ninja/v2/states").then((function(e){return e.ok?e:Promise.reject(e)})).then((function(e){return e.json()}))},P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).sectionName="Breakdown of States in the United States",a.sectionTag="StatesStats",a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"RenderTable",value:function(){var e=[{Header:"State",accessor:"state",role:"rowheader"},{Header:"Cases",accessor:"cases",Cell:f,role:"cell"},{Header:"Active Cases",accessor:"active",Cell:f,role:"cell"},{Header:"Cases reported today",accessor:"todayCases",Cell:f,role:"cell"},{Header:"Deaths Today",accessor:"todayDeaths",Cell:f,role:"cell"},{Header:"Overall Deaths",accessor:"deaths",Cell:f,role:"cell"},{Header:"Tests",accessor:"tests",Cell:f,role:"cell"},{Header:"Tests Per One Million",accessor:"testsPerOneMillion",Cell:f,role:"cell"}];return l.a.createElement(w,{columns:e,data:this.state.stats})}},{key:"RenderWidget",value:function(){var e=this;if(this.state.expanded)return null!=this.state.stats?this.RenderTable():l.a.createElement(E.a,{promiseFn:T},(function(t){var a=t.data,n=t.error;return t.isPending?"Loading...":n?"Something went wrong: ".concat(n.message):(e.state={expanded:e.state.expanded,stats:a},e.RenderTable())}))}}]),t}(O),H=a(11),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).sectionName=a.props.stateName,a.sectionTag="CountyStats"+a.props.stateName,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"RenderTable",value:function(){var e=[{Header:"County",accessor:"county",role:"rowheader"},{Header:"Confirmed",accessor:"stats.confirmed",Cell:f},{Header:"Deaths",accessor:"stats.deaths",Cell:f},{Header:"Recovered",accessor:"stats.recovered",Cell:f}];return l.a.createElement(w,{columns:e,data:this.props.counties})}},{key:"RenderWidget",value:function(){if(this.state.expanded)return this.RenderTable()}}]),t}(O),R=function(){return fetch("https://corona.lmao.ninja/v3/covid-19/jhucsse/counties").then((function(e){return e.ok?e:Promise.reject(e)})).then((function(e){return e.json()}))};function M(e){var t=e.states,a=e.counties,n=Object(H.a)(t).sort(),r=function(e,t){var a=new Map;return Object.keys(t).forEach((function(e){var n=t[e],l=n.province;Object.keys(a).includes(l)||(a[l]=[]),a[l].push(n)})),Object.keys(e).forEach((function(e){a[e].sort()})),a}(t,a);return l.a.createElement("ul",null,n.map((function(e){return l.a.createElement("li",null,l.a.createElement(x,{stateName:e,counties:r[e]}))})))}var A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).sectionName="Breakdown of Counties by State in the United States",a.sectionTag="CountyStats",a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"parseData",value:function(e){var t=new Set;Object.keys(e).forEach((function(a){var n=e[a];t.add(n.province)})),this.setState({counties:e}),this.setState({states:t})}},{key:"RenderWidget",value:function(){var e=this;if(this.state.expanded)return null!=this.state.states&&null!=this.state.counties?l.a.createElement(M,{states:this.state.states,counties:this.state.counties}):l.a.createElement(E.a,{promiseFn:R},(function(t){var a=t.data,n=t.error;return t.isPending?"Loading...":n?"Something went wrong: ".concat(n.message):(e.parseData(a),l.a.createElement("p",null,"Loading..."))}))}}]),t}(O);function D(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Planned features"),l.a.createElement("p",null,"I have received more E-Mail than I ever thought I would. I doubt I've responded to much of it due to constraints on time, but I have read every single message and take all of your requests to heart. As a result, here is what I plan to add next, in no particular order:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Trend specific data"),l.a.createElement("li",null,"Percentages in various columns"),l.a.createElement("li",null,"More data as it becomes available and I can combine it.")),l.a.createElement("p",null,"Again, thank you all for your feedback, support, shares and everything else. This project has helped me in so many ways, and I'm happy to be giving something back to the community. Please keep your suggestions coming, this gives me ideas on how to update the project!"),l.a.createElement("h3",null,"Changelog"),l.a.createElement("ul",null,l.a.createElement("li",null,"2.0"),l.a.createElement("ul",null,l.a.createElement("li",null,"Updated all datasets so that they load when requested. This makes the page much smaller and will allow me to add more data without bogging down browsers."),l.a.createElement("li",null,"Refactored a lot of code, cleanups and general performance improvements across the board."),l.a.createElement("li",null,"Added the FAQ and CVStats in the news sections."),l.a.createElement("li",null,"Added the much requested and anticipated county stats table. Simply expand the corresponding section and expand your state. This will not need to load, as it uses data from it's parent section, so these will load quickly.")),l.a.createElement("li",null,"1.0.5"),l.a.createElement("ul",null,l.a.createElement("li",null,"Updated global stats to include the time it was last updated."),l.a.createElement("li",null,"Updated country stats to include the time when it was last updated, as well as 'Deaths Per One Million' and 'Tests Per One Million'."),l.a.createElement("li",null,"Updated state stats to include total number of tests administered, as well as 'Tests Per One Million'."),l.a.createElement("li",null,"Made all stats fetch async to make the page load faster.")),l.a.createElement("li",null,"1.0.4"),l.a.createElement("ul",null,l.a.createElement("li",null,"Update sort; should properly work with formatted numbers again."),l.a.createElement("li",null,"Small performance improvements."),l.a.createElement("li",null,"Clear up all lint warnings.")),l.a.createElement("li",null,"1.0.2"),l.a.createElement("ul",null,l.a.createElement("li",null,"Add row headers to all left columns on states and countries table to make it easier to read with a screen reader."),l.a.createElement("li",null,'Remove "recovered" row from states table, fix a bug that forced a crash when the endpoint for the API changed. This is no longer available via the API and will need to be calculated later.')),l.a.createElement("li",null,"1.0.1"),l.a.createElement("ul",null,l.a.createElement("li",null,"Added changelog."),l.a.createElement("li",null,"left-aligned all text, to make it easier for those with low vision using magnification."),l.a.createElement("li",null,"Updated all stats displays to properly display their numbers with comma as the digit separator. This should make it easier for some screen readers to read."),l.a.createElement("li",null,"Added a breakdown to show info for specific states in the United States."),l.a.createElement("li",null,"Added two more columns to the country breakdown: 'Critical' and 'Cases Per One Million'."))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement((function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,l.a.createElement("button",{class:"btn btn-primary","data-toggle":"collapse",href:"#collapseGlobalStats","aria-expanded":"false","aria-controls":"collapseGlobalStats"},"Global Stats")),l.a.createElement("section",null,l.a.createElement("div",{class:"collapse",id:"collapseGlobalStats"},l.a.createElement("div",{class:"card card-body"},l.a.createElement(v,null)))),l.a.createElement(S,null),l.a.createElement(P,null),l.a.createElement(A,null),l.a.createElement("section",{id:"changelog"},l.a.createElement("h1",{class:"section-heading"},l.a.createElement("button",{class:"btn btn-primary","data-toggle":"collapse",href:"#collapseChangelog","aria-expanded":"false","aria-controls":"collapseChangelog"},"Changelog and Upcoming Features")),l.a.createElement("div",{class:"collapse",id:"collapseChangelog"},l.a.createElement("div",{class:"card card-body"},l.a.createElement(D,null)))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.eac1899f.chunk.js.map